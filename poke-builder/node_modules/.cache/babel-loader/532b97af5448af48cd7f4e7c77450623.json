{"ast":null,"code":"var _jsxFileName = \"D:\\\\ITCoursesProjects\\\\React\\\\PokeBuilder\\\\poke-builder\\\\src\\\\containers\\\\PokeBuilder\\\\PokeBuilder.js\";\nimport React, { Component } from 'react';\nimport Auxilliary from '../../hoc/Auxilliary';\nimport Poke from '../../components/Poke/Poke';\nimport BuildControls from '../../components/Poke/BuildControls/BuildControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INGREDIENT_PRICE = {\n  salad: 0.5,\n  bacon: 1,\n  cheese: 0.4,\n  meat: 2\n};\n\nclass PokeBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ingredients: {\n        salad: 0,\n        bacon: 0,\n        cheese: 0,\n        meat: 0\n      },\n      totalPrice: 4,\n      purchasable: false\n    };\n\n    this.addIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n      const updatedCount = oldCount + 1;\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const newPrice = this.state.totalPrice + INGREDIENT_PRICE[type];\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updatedIngredients\n      });\n    };\n\n    this.removeIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n      console.log(oldCount);\n      const updatedCount = oldCount - 1;\n\n      if (updatedCount < 0) {\n        return;\n      }\n\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const newPrice = this.state.totalPrice - INGREDIENT_PRICE[type];\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updatedIngredients\n      });\n    };\n  }\n\n  updatePurchaseState() {\n    const ingredients = { ...this.state.ingredients\n    };\n    const sum = Object.keys(ingredients).map(igKey => {\n      return ingredients[igKey];\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    this.setState({\n      purchasable: sum > 0\n    });\n    console.log(this.state.purchasable);\n  }\n\n  render() {\n    const disableInfo = { ...this.state.ingredients\n    };\n\n    for (let key in disableInfo) {\n      disableInfo[key] = disableInfo[key] <= 0;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Auxilliary, {\n      children: [/*#__PURE__*/_jsxDEV(Poke, {\n        ingredients: this.state.ingredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BuildControls, {\n        ingredientAdded: this.addIngredientHandler,\n        ingredientRemoved: this.removeIngredientHandler,\n        totalPrice: this.state.totalPrice,\n        purchasable: this.state.purchasable,\n        disable: disableInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default PokeBuilder;","map":{"version":3,"sources":["D:/ITCoursesProjects/React/PokeBuilder/poke-builder/src/containers/PokeBuilder/PokeBuilder.js"],"names":["React","Component","Auxilliary","Poke","BuildControls","INGREDIENT_PRICE","salad","bacon","cheese","meat","PokeBuilder","state","ingredients","totalPrice","purchasable","addIngredientHandler","type","oldCount","updatedCount","updatedIngredients","newPrice","setState","removeIngredientHandler","console","log","updatePurchaseState","sum","Object","keys","map","igKey","reduce","el","render","disableInfo","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,aAAP,MAA0B,mDAA1B;;AAEA,MAAMC,gBAAgB,GAAC;AACnBC,EAAAA,KAAK,EAAC,GADa;AAEnBC,EAAAA,KAAK,EAAC,CAFa;AAGnBC,EAAAA,MAAM,EAAC,GAHY;AAInBC,EAAAA,IAAI,EAAC;AAJc,CAAvB;;AAOA,MAAMC,WAAN,SAA0BT,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCU,KADgC,GACxB;AACJC,MAAAA,WAAW,EAAE;AACTN,QAAAA,KAAK,EAAC,CADG;AAETC,QAAAA,KAAK,EAAC,CAFG;AAGTC,QAAAA,MAAM,EAAC,CAHE;AAITC,QAAAA,IAAI,EAAC;AAJI,OADT;AAOJI,MAAAA,UAAU,EAAC,CAPP;AAQJC,MAAAA,WAAW,EAAE;AART,KADwB;;AAAA,SAyBhCC,oBAzBgC,GAyBVC,IAAD,IAAQ;AACzB,YAAMC,QAAQ,GAAG,KAAKN,KAAL,CAAWC,WAAX,CAAuBI,IAAvB,CAAjB;AACA,YAAME,YAAY,GAAGD,QAAQ,GAAC,CAA9B;AACA,YAAME,kBAAkB,GAAG,EAAC,GAAG,KAAKR,KAAL,CAAWC;AAAf,OAA3B;AACAO,MAAAA,kBAAkB,CAACH,IAAD,CAAlB,GAA0BE,YAA1B;AAEA,YAAME,QAAQ,GAAG,KAAKT,KAAL,CAAWE,UAAX,GAAwBR,gBAAgB,CAACW,IAAD,CAAzD;AACA,WAAKK,QAAL,CAAc;AAACR,QAAAA,UAAU,EAAGO,QAAd;AAAwBR,QAAAA,WAAW,EAAEO;AAArC,OAAd;AACH,KAjC+B;;AAAA,SAmChCG,uBAnCgC,GAmCPN,IAAD,IAAQ;AAC5B,YAAMC,QAAQ,GAAG,KAAKN,KAAL,CAAWC,WAAX,CAAuBI,IAAvB,CAAjB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACA,YAAMC,YAAY,GAAGD,QAAQ,GAAC,CAA9B;;AACA,UAAGC,YAAY,GAAG,CAAlB,EAAqB;AACjB;AACH;;AAED,YAAMC,kBAAkB,GAAG,EAAC,GAAG,KAAKR,KAAL,CAAWC;AAAf,OAA3B;AACAO,MAAAA,kBAAkB,CAACH,IAAD,CAAlB,GAA0BE,YAA1B;AAEA,YAAME,QAAQ,GAAG,KAAKT,KAAL,CAAWE,UAAX,GAAwBR,gBAAgB,CAACW,IAAD,CAAzD;AACA,WAAKK,QAAL,CAAc;AAACR,QAAAA,UAAU,EAAGO,QAAd;AAAwBR,QAAAA,WAAW,EAAEO;AAArC,OAAd;AACH,KAhD+B;AAAA;;AAYhCM,EAAAA,mBAAmB,GAAE;AACjB,UAAMb,WAAW,GAAG,EAAC,GAAG,KAAKD,KAAL,CAAWC;AAAf,KAApB;AACA,UAAMc,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYhB,WAAZ,EACXiB,GADW,CACPC,KAAK,IAAE;AACR,aAAOlB,WAAW,CAACkB,KAAD,CAAlB;AACH,KAHW,EAIXC,MAJW,CAIJ,CAACL,GAAD,EAAMM,EAAN,KAAW;AACf,aAAON,GAAG,GAAEM,EAAZ;AACH,KANW,EAMT,CANS,CAAZ;AAOJ,SAAKX,QAAL,CAAc;AAACP,MAAAA,WAAW,EAACY,GAAG,GAAG;AAAnB,KAAd;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWG,WAAvB;AACC;;AA4BDmB,EAAAA,MAAM,GAAG;AACL,UAAMC,WAAW,GAAC,EACd,GAAG,KAAKvB,KAAL,CAAWC;AADA,KAAlB;;AAGA,SAAK,IAAIuB,GAAT,IAAgBD,WAAhB,EAA4B;AACxBA,MAAAA,WAAW,CAACC,GAAD,CAAX,GAAmBD,WAAW,CAACC,GAAD,CAAX,IAAkB,CAArC;AAAwC;;AAE5C,wBACI,QAAC,UAAD;AAAA,8BACI,QAAC,IAAD;AAAM,QAAA,WAAW,EAAG,KAAKxB,KAAL,CAAWC;AAA/B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,aAAD;AACA,QAAA,eAAe,EAAI,KAAKG,oBADxB;AAEA,QAAA,iBAAiB,EAAI,KAAKO,uBAF1B;AAGA,QAAA,UAAU,EAAI,KAAKX,KAAL,CAAWE,UAHzB;AAIA,QAAA,WAAW,EAAI,KAAKF,KAAL,CAAWG,WAJ1B;AAKA,QAAA,OAAO,EAAIoB;AALX;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AArE+B;;AAwEpC,eAAexB,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Auxilliary from '../../hoc/Auxilliary';\r\nimport Poke from '../../components/Poke/Poke';\r\nimport BuildControls from '../../components/Poke/BuildControls/BuildControls';\r\n\r\nconst INGREDIENT_PRICE={\r\n    salad:0.5,\r\n    bacon:1,\r\n    cheese:0.4,\r\n    meat:2\r\n};\r\n\r\nclass PokeBuilder extends Component {\r\n    state = {\r\n        ingredients: {\r\n            salad:0,\r\n            bacon:0,\r\n            cheese:0,\r\n            meat:0\r\n        },\r\n        totalPrice:4,\r\n        purchasable: false\r\n    };\r\n\r\n    updatePurchaseState(){\r\n        const ingredients = {...this.state.ingredients};\r\n        const sum = Object.keys(ingredients)\r\n        .map(igKey=>{\r\n            return ingredients[igKey];\r\n        })\r\n        .reduce((sum, el)=>{\r\n            return sum +el;\r\n        }, 0);\r\n    this.setState({purchasable:sum > 0});\r\n    console.log(this.state.purchasable);\r\n    }\r\n\r\n    addIngredientHandler=(type)=>{\r\n        const oldCount = this.state.ingredients[type];\r\n        const updatedCount = oldCount+1;\r\n        const updatedIngredients = {...this.state.ingredients};\r\n        updatedIngredients[type] =updatedCount;\r\n\r\n        const newPrice = this.state.totalPrice + INGREDIENT_PRICE[type];\r\n        this.setState({totalPrice : newPrice, ingredients: updatedIngredients});\r\n    }\r\n\r\n    removeIngredientHandler=(type)=>{\r\n        const oldCount = this.state.ingredients[type];\r\n        console.log(oldCount);\r\n        const updatedCount = oldCount-1;\r\n        if(updatedCount < 0) {\r\n            return;\r\n        }\r\n\r\n        const updatedIngredients = {...this.state.ingredients};\r\n        updatedIngredients[type] =updatedCount;\r\n\r\n        const newPrice = this.state.totalPrice - INGREDIENT_PRICE[type];\r\n        this.setState({totalPrice : newPrice, ingredients: updatedIngredients});\r\n    }\r\n\r\n\r\n    render() {\r\n        const disableInfo={\r\n            ...this.state.ingredients\r\n        };\r\n        for (let key in disableInfo){\r\n            disableInfo[key] = disableInfo[key]<=0;}\r\n\r\n        return (\r\n            <Auxilliary>\r\n                <Poke ingredients={ this.state.ingredients } />\r\n                <BuildControls \r\n                ingredientAdded = {this.addIngredientHandler} \r\n                ingredientRemoved = {this.removeIngredientHandler}\r\n                totalPrice = {this.state.totalPrice}\r\n                purchasable = {this.state.purchasable}\r\n                disable = {disableInfo}/>\r\n            </Auxilliary>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PokeBuilder;"]},"metadata":{},"sourceType":"module"}